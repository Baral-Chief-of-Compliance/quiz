import{c as j,a as y,h as v,g as I,r as C,B as W,C as D,o as N,m as Z,D as ee,E as te,A as c,w as R,F as ne,q as ae,G as se,u as b,v as p,x as q,H as f,I as g,y as h,J as x,K as w,L as M,M as ie,N as oe}from"./index.0112ab5c.js";import{h as O,a as re}from"./dom.ab48c567.js";import{u as ue,a as le,Q as H,b as $}from"./QBtn.109b8190.js";import{u as G,a as K,b as ce,o as de,c as _e,d as fe,Q as me}from"./QPage.dd9c7dc7.js";import{a as F}from"./axios.bf56c3c5.js";var S=j({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:n}){const a=y(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>v(e.tag,{class:a.value},O(n.default))}}),V=j({name:"QCard",props:{...G,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:n}){const{proxy:{$q:a}}=I(),t=K(e,a),s=y(()=>"q-card"+(t.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>v(e.tag,{class:s.value},O(n.default))}});const qe=v("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[v("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),v("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var ve=j({name:"QRadio",props:{...G,...ue,...ce,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:n,emit:a}){const{proxy:t}=I(),s=K(e,t.$q),d=le(e,de),u=C(null),{refocusTargetEl:_,refocusTarget:r}=_e(e,u),i=y(()=>W(e.modelValue)===W(e.val)),l=y(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(s.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),m=y(()=>{const o=e.color!==void 0&&(e.keepColor===!0||i.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${i.value===!0?"truthy":"falsy"}${o}`}),k=y(()=>(i.value===!0?e.checkedIcon:e.uncheckedIcon)||null),z=y(()=>e.disable===!0?-1:e.tabindex||0),E=y(()=>{const o={type:"radio"};return e.name!==void 0&&Object.assign(o,{".checked":i.value===!0,"^checked":i.value===!0?"checked":void 0,name:e.name,value:e.val}),o}),J=fe(E);function B(o){o!==void 0&&(D(o),r(o)),e.disable!==!0&&i.value!==!0&&a("update:modelValue",e.val,o)}function U(o){(o.keyCode===13||o.keyCode===32)&&D(o)}function X(o){(o.keyCode===13||o.keyCode===32)&&B(o)}return Object.assign(t,{set:B}),()=>{const o=k.value!==null?[v("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[v(H,{class:"q-radio__icon",name:k.value})])]:[qe];e.disable!==!0&&J(o,"unshift"," q-radio__native q-ma-none q-pa-none");const L=[v("div",{class:m.value,style:d.value,"aria-hidden":"true"},o)];_.value!==null&&L.push(_.value);const P=e.label!==void 0?re(n.default,[e.label]):O(n.default);return P!==void 0&&L.push(v("div",{class:"q-radio__label q-anchor--skip"},P)),v("div",{ref:u,class:l.value,tabindex:z.value,role:"radio","aria-label":e.label,"aria-checked":i.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:B,onKeydown:U,onKeyup:X},L)}}});function Y(e){return ee()?(te(e),!0):!1}function T(e){return typeof e=="function"?e():c(e)}const Q=typeof window!="undefined"&&typeof document!="undefined";typeof WorkerGlobalScope!="undefined"&&globalThis instanceof WorkerGlobalScope;const he=Object.prototype.toString,ye=e=>he.call(e)==="[object Object]",be=()=>{};function ge(e){return e||I()}function ke(e,n=!0,a){ge()?N(e,a):n?e():Z(e)}function ze(e){var n;const a=T(e);return(n=a==null?void 0:a.$el)!=null?n:a}const A=Q?window:void 0;Q&&window.document;Q&&window.navigator;Q&&window.location;function xe(...e){let n,a,t,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,t,s]=e,n=A):[n,a,t,s]=e,!n)return be;Array.isArray(a)||(a=[a]),Array.isArray(t)||(t=[t]);const d=[],u=()=>{d.forEach(l=>l()),d.length=0},_=(l,m,k,z)=>(l.addEventListener(m,k,z),()=>l.removeEventListener(m,k,z)),r=R(()=>[ze(n),T(s)],([l,m])=>{if(u(),!l)return;const k=ye(m)?{...m}:m;d.push(...a.flatMap(z=>t.map(E=>_(l,z,E,k))))},{immediate:!0,flush:"post"}),i=()=>{r(),u()};return Y(i),i}function pe(){const e=C(!1),n=I();return n&&N(()=>{e.value=!0},n),e}function we(e){const n=pe();return y(()=>(n.value,Boolean(e())))}function Se(e,n={}){const{window:a=A}=n,t=we(()=>a&&"matchMedia"in a&&typeof a.matchMedia=="function");let s;const d=C(!1),u=i=>{d.value=i.matches},_=()=>{!s||("removeEventListener"in s?s.removeEventListener("change",u):s.removeListener(u))},r=ne(()=>{!t.value||(_(),s=a.matchMedia(T(e)),"addEventListener"in s?s.addEventListener("change",u):s.addListener(u),d.value=s.matches)});return Y(()=>{r(),_(),s=void 0}),d}function Ce(e={}){const{window:n=A,initialWidth:a=Number.POSITIVE_INFINITY,initialHeight:t=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:d=!0}=e,u=C(a),_=C(t),r=()=>{n&&(d?(u.value=n.innerWidth,_.value=n.innerHeight):(u.value=n.document.documentElement.clientWidth,_.value=n.document.documentElement.clientHeight))};if(r(),ke(r),xe("resize",r,{passive:!0}),s){const i=Se("(orientation: portrait)");R(i,()=>r())}return{width:u,height:_}}const Ie={class:"q-pa-md example-row-equal-width"},Qe={class:"row justify-center"},Ee={class:"q-mt-md text-subtitle text-center"},Be={class:"column"},Le={class:"column justify-center"},Me={key:0,class:"q-mt-xs column"},$e={key:1,class:"q-mt-xl column"},Ve=f("div",{class:"text-h3 text-center"},"\u0421\u043F\u0430\u0441\u0438\u0431\u043E \u0437\u0430 \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0432 \u043E\u043F\u0440\u043E\u0441\u0435!",-1),je={class:"q-pa-md text-center col"},We=Object.assign({name:"QuizPage"},{__name:"QuizPage",setup(e){const{width:n,height:a}=Ce(),t=ae({current_question:0,quiz_start:!1,current_question_info:{},quiz:{},user_choise:"",quiz_finish:!1,user_token:"",user_questions:[],backend_url:"https://quiz51.site/"}),s=se();function d(){F.get(`${t.backend_url}api/v1/questionnaires/quiz/${s.params.id}`).then(function(r){console.log(r),t.quiz=r.data,t.user_token=t.quiz.user_token,t.user_questions=t.quiz.user_questions,t.current_question_info=t.quiz.quiz_questions[0]})}function u(){t.user_questions[t.current_question].user_choise=t.user_choise,t.user_choise="",t.current_question++,t.current_question_info=t.quiz.quiz_questions[t.current_question]}function _(){t.user_questions[t.current_question].user_choise=t.user_choise,t.quiz_finish=!0,F.post(`${t.backend_url}api/v1/questionnaires/quiz/${s.params.id}/`,{user_token:t.user_token,user_questions:t.user_questions}).then(function(r){console.log(r.data)}).catch(function(r){console.log(r)})}return N(()=>{d()}),(r,i)=>(b(),p(me,{class:"flex flex-center"},{default:q(()=>[f("div",Ie,[f("div",Qe,[t.quiz_start?w("",!0):(b(),p(V,{key:0,class:g([c(n)>1200?"my-card col-5":c(n)>900?"my-card col-8":"my-card col"])},{default:q(()=>[h(S,null,{default:q(()=>[f("div",{class:g([c(n)>500?"q-mb-xl text-h3 text-center":"q-mb-md text-h5 text-center"])},"\u041E\u043F\u0440\u043E\u0441",2),f("div",{class:g([c(n)>500?"text-h4 text-center":"text-h6 text-center"])},x(t.quiz.quiz_title),3),f("div",Ee,"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0432\u043E\u043F\u0440\u043E\u0441\u043E\u0432: "+x(t.quiz.quiz_questions_quantity),1)]),_:1}),h(S,null,{default:q(()=>[f("div",Be,[h($,{color:"primary",label:"\u041F\u0420\u041E\u0419\u0422\u0418 \u041E\u041F\u0420\u041E\u0421",onClick:i[0]||(i[0]=l=>t.quiz_start=!0),size:"xl"})])]),_:1})]),_:1},8,["class"])),t.quiz_start&&!t.quiz_finish?(b(),p(V,{key:1,class:g([c(n)>1200?"my-card col-5":c(n)>900?"my-card col-8":"my-card col"])},{default:q(()=>[h(S,null,{default:q(()=>[f("div",{class:g([c(n)>1200?"q-mb-sm text-h6 text-center":c(n)>900?"mid-text":"small-text"])},x(t.quiz.quiz_title),3),f("div",{class:g([c(n)>1200?"text-h5 text-center":c(n)>900?"mid-title":"small-title"])},[f("b",null,x(t.current_question_info.q_index)+". "+x(t.current_question_info.q_title),1)],2)]),_:1}),h(S,null,{default:q(()=>[f("div",Le,[(b(!0),M(oe,null,ie(t.current_question_info.q_choises,l=>(b(),p(ve,{class:"q-mb-xs text-h6",modelValue:t.user_choise,"onUpdate:modelValue":i[1]||(i[1]=m=>t.user_choise=m),key:l.ch_id,val:l.ch_id},{default:q(()=>[f("div",{class:g([c(n)>1200?"":c(n)>900?"mid-quiz":"small-quiz"])},x(l.ch_title),3)]),_:2},1032,["modelValue","val"]))),128))]),t.user_choise!=""&&t.current_question+1<t.quiz.quiz_questions_quantity?(b(),M("div",Me,[h($,{size:"lg",color:"primary",label:"\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439 \u0432\u043E\u043F\u0440\u043E\u0441",onClick:i[2]||(i[2]=l=>u())})])):w("",!0),t.user_choise!=""&&t.current_question+1==t.quiz.quiz_questions_quantity?(b(),M("div",$e,[h($,{size:"lg",color:"primary",label:"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0440\u0435\u0437\u0443\u043B\u044C\u0430\u0442\u0442\u044B",onClick:i[3]||(i[3]=l=>_())})])):w("",!0)]),_:1})]),_:1},8,["class"])):w("",!0),t.quiz_finish?(b(),p(V,{key:2,class:g([c(n)>1200?"my-card col-5":c(n)>900?"my-card col-8":"my-card col"])},{default:q(()=>[h(S,null,{default:q(()=>[Ve,f("div",je,[h(H,{color:"green",name:"check",size:"10em"})])]),_:1})]),_:1},8,["class"])):w("",!0)])])]),_:1}))}});export{We as default};
