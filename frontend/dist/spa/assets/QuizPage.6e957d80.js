import{c as I,a as _,h as m,g as E,r as w,A as W,B as D,i as R,e as z,l as te,d as ne,o as F,m as ae,C as oe,D as se,z as f,w as K,E as ie,q as re,F as ue,u as g,v as C,x as q,G as v,H as b,y,I as k,J as S,K as T,L as le,M as ce}from"./index.efffaf3f.js";import{h as B,a as de}from"./dom.779a52b7.js";import{u as fe,a as ve,Q as G,b as V}from"./QBtn.9fbcbeab.js";import{a as H}from"./axios.bf56c3c5.js";var Q=I({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:n}){const a=_(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>m(e.tag,{class:a.value},B(n.default))}});const Y={dark:{type:Boolean,default:null}};function J(e,n){return _(()=>e.dark===null?n.dark.isActive:e.dark)}var j=I({name:"QCard",props:{...Y,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:n}){const{proxy:{$q:a}}=E(),t=J(e,a),o=_(()=>"q-card"+(t.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>m(e.tag,{class:o.value},B(n.default))}});function _e(e,n){const a=w(null),t=_(()=>e.disable===!0?null:m("span",{ref:a,class:"no-outline",tabindex:-1}));function o(r){const s=n.value;r!==void 0&&r.type.indexOf("key")===0?s!==null&&document.activeElement!==s&&s.contains(document.activeElement)===!0&&s.focus():a.value!==null&&(r===void 0||s!==null&&s.contains(r.target)===!0)&&a.value.focus()}return{refocusTargetEl:t,refocusTarget:o}}const me={name:String};function he(e={}){return(n,a,t)=>{n[a](m("input",{class:"hidden"+(t||""),...e.value}))}}var qe={xs:30,sm:35,md:40,lg:50,xl:60};const ye=m("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[m("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),m("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var ge=I({name:"QRadio",props:{...Y,...fe,...me,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:n,emit:a}){const{proxy:t}=E(),o=J(e,t.$q),r=ve(e,qe),s=w(null),{refocusTargetEl:c,refocusTarget:u}=_e(e,s),i=_(()=>D(e.modelValue)===D(e.val)),d=_(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(o.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),h=_(()=>{const l=e.color!==void 0&&(e.keepColor===!0||i.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${i.value===!0?"truthy":"falsy"}${l}`}),p=_(()=>(i.value===!0?e.checkedIcon:e.uncheckedIcon)||null),x=_(()=>e.disable===!0?-1:e.tabindex||0),L=_(()=>{const l={type:"radio"};return e.name!==void 0&&Object.assign(l,{".checked":i.value===!0,"^checked":i.value===!0?"checked":void 0,name:e.name,value:e.val}),l}),X=he(L);function M(l){l!==void 0&&(W(l),u(l)),e.disable!==!0&&i.value!==!0&&a("update:modelValue",e.val,l)}function Z(l){(l.keyCode===13||l.keyCode===32)&&W(l)}function ee(l){(l.keyCode===13||l.keyCode===32)&&M(l)}return Object.assign(t,{set:M}),()=>{const l=p.value!==null?[m("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[m(G,{class:"q-radio__icon",name:p.value})])]:[ye];e.disable!==!0&&X(l,"unshift"," q-radio__native q-ma-none q-pa-none");const P=[m("div",{class:h.value,style:r.value,"aria-hidden":"true"},l)];c.value!==null&&P.push(c.value);const N=e.label!==void 0?de(n.default,[e.label]):B(n.default);return N!==void 0&&P.push(m("div",{class:"q-radio__label q-anchor--skip"},N)),m("div",{ref:s,class:d.value,tabindex:x.value,role:"radio","aria-label":e.label,"aria-checked":i.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:M,onKeydown:Z,onKeyup:ee},P)}}}),be=I({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:n}){const{proxy:{$q:a}}=E(),t=R(te,z);if(t===z)return console.error("QPage needs to be a deep child of QLayout"),z;if(R(ne,z)===z)return console.error("QPage needs to be child of QPageContainer"),z;const r=_(()=>{const c=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const u=t.isContainer.value===!0?t.containerHeight.value:a.screen.height;return e.styleFn(c,u)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-c+"px":a.screen.height===0?c!==0?`calc(100vh - ${c}px)`:"100vh":a.screen.height-c+"px"}}),s=_(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>m("main",{class:s.value,style:r.value},B(n.default))}});function U(e){return oe()?(se(e),!0):!1}function O(e){return typeof e=="function"?e():f(e)}const $=typeof window!="undefined"&&typeof document!="undefined";typeof WorkerGlobalScope!="undefined"&&globalThis instanceof WorkerGlobalScope;const pe=Object.prototype.toString,xe=e=>pe.call(e)==="[object Object]",ze=()=>{};function ke(e){return e||E()}function we(e,n=!0,a){ke()?F(e,a):n?e():ae(e)}function Ce(e){var n;const a=O(e);return(n=a==null?void 0:a.$el)!=null?n:a}const A=$?window:void 0;$&&window.document;$&&window.navigator;$&&window.location;function Se(...e){let n,a,t,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,t,o]=e,n=A):[n,a,t,o]=e,!n)return ze;Array.isArray(a)||(a=[a]),Array.isArray(t)||(t=[t]);const r=[],s=()=>{r.forEach(d=>d()),r.length=0},c=(d,h,p,x)=>(d.addEventListener(h,p,x),()=>d.removeEventListener(h,p,x)),u=K(()=>[Ce(n),O(o)],([d,h])=>{if(s(),!d)return;const p=xe(h)?{...h}:h;r.push(...a.flatMap(x=>t.map(L=>c(d,x,L,p))))},{immediate:!0,flush:"post"}),i=()=>{u(),s()};return U(i),i}function Qe(){const e=w(!1),n=E();return n&&F(()=>{e.value=!0},n),e}function Ee(e){const n=Qe();return _(()=>(n.value,Boolean(e())))}function Ie(e,n={}){const{window:a=A}=n,t=Ee(()=>a&&"matchMedia"in a&&typeof a.matchMedia=="function");let o;const r=w(!1),s=i=>{r.value=i.matches},c=()=>{!o||("removeEventListener"in o?o.removeEventListener("change",s):o.removeListener(s))},u=ie(()=>{!t.value||(c(),o=a.matchMedia(O(e)),"addEventListener"in o?o.addEventListener("change",s):o.addListener(s),r.value=o.matches)});return U(()=>{u(),c(),o=void 0}),r}function Be(e={}){const{window:n=A,initialWidth:a=Number.POSITIVE_INFINITY,initialHeight:t=Number.POSITIVE_INFINITY,listenOrientation:o=!0,includeScrollbar:r=!0}=e,s=w(a),c=w(t),u=()=>{n&&(r?(s.value=n.innerWidth,c.value=n.innerHeight):(s.value=n.document.documentElement.clientWidth,c.value=n.document.documentElement.clientHeight))};if(u(),we(u),Se("resize",u,{passive:!0}),o){const i=Ie("(orientation: portrait)");K(i,()=>u())}return{width:s,height:c}}const $e={class:"q-pa-md example-row-equal-width"},Le={class:"row justify-center"},Me={class:"q-mt-md text-subtitle text-center"},Pe={class:"column"},Te={class:"column justify-center"},Ve={key:0,class:"q-mt-xs column"},je={key:1,class:"q-mt-xl column"},Fe=v("div",{class:"text-h3 text-center"},"\u0421\u043F\u0430\u0441\u0438\u0431\u043E \u0437\u0430 \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0432 \u043E\u043F\u0440\u043E\u0441\u0435!",-1),Oe={class:"q-pa-md text-center col"},Re=Object.assign({name:"QuizPage"},{__name:"QuizPage",setup(e){const{width:n,height:a}=Be(),t=re({current_question:0,quiz_start:!1,current_question_info:{},quiz:{},user_choise:"",quiz_finish:!1,user_token:"",user_questions:[]}),o=ue();function r(){H.get(`https://quiz51.site/api/v1/questionnaires/quiz/${o.params.id}`).then(function(u){console.log(u),t.quiz=u.data,t.user_token=t.quiz.user_token,t.user_questions=t.quiz.user_questions,t.current_question_info=t.quiz.quiz_questions[0]})}function s(){t.user_questions[t.current_question].user_choise=t.user_choise,t.user_choise="",t.current_question++,t.current_question_info=t.quiz.quiz_questions[t.current_question]}function c(){t.user_questions[t.current_question].user_choise=t.user_choise,t.quiz_finish=!0,H.post(`https://quiz51.site/api/v1/questionnaires/quiz/${o.params.id}/`,{user_token:t.user_token,user_questions:t.user_questions}).then(function(u){console.log(u.data)}).catch(function(u){console.log(u)})}return F(()=>{r()}),(u,i)=>(g(),C(be,{class:"flex flex-center"},{default:q(()=>[v("div",$e,[v("div",Le,[t.quiz_start?S("",!0):(g(),C(j,{key:0,class:b([f(n)>1200?"my-card col-5":f(n)>900?"my-card col-8":"my-card col"])},{default:q(()=>[y(Q,null,{default:q(()=>[v("div",{class:b([f(n)>500?"q-mb-xl text-h3 text-center":"q-mb-md text-h5 text-center"])},"\u041E\u043F\u0440\u043E\u0441",2),v("div",{class:b([f(n)>500?"text-h4 text-center":"text-h6 text-center"])},k(t.quiz.quiz_title),3),v("div",Me,"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0432\u043E\u043F\u0440\u043E\u0441\u043E\u0432: "+k(t.quiz.quiz_questions_quantity),1)]),_:1}),y(Q,null,{default:q(()=>[v("div",Pe,[y(V,{color:"primary",label:"\u041F\u0420\u041E\u0419\u0422\u0418 \u041E\u041F\u0420\u041E\u0421",onClick:i[0]||(i[0]=d=>t.quiz_start=!0),size:"xl"})])]),_:1})]),_:1},8,["class"])),t.quiz_start&&!t.quiz_finish?(g(),C(j,{key:1,class:b([f(n)>1200?"my-card col-5":f(n)>900?"my-card col-8":"my-card col"])},{default:q(()=>[y(Q,null,{default:q(()=>[v("div",{class:b([f(n)>1200?"q-mb-sm text-h6 text-center":f(n)>900?"mid-text":"small-text"])},k(t.quiz.quiz_title),3),v("div",{class:b([f(n)>1200?"text-h5 text-center":f(n)>900?"mid-title":"small-title"])},[v("b",null,k(t.current_question_info.q_index)+". "+k(t.current_question_info.q_title),1)],2)]),_:1}),y(Q,null,{default:q(()=>[v("div",Te,[(g(!0),T(ce,null,le(t.current_question_info.q_choises,d=>(g(),C(ge,{class:"q-mb-xs text-h6",modelValue:t.user_choise,"onUpdate:modelValue":i[1]||(i[1]=h=>t.user_choise=h),key:d.ch_id,val:d.ch_id},{default:q(()=>[v("div",{class:b([f(n)>1200?"":f(n)>900?"mid-quiz":"small-quiz"])},k(d.ch_title),3)]),_:2},1032,["modelValue","val"]))),128))]),t.user_choise!=""&&t.current_question+1<t.quiz.quiz_questions_quantity?(g(),T("div",Ve,[y(V,{size:"lg",color:"primary",label:"\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439 \u0432\u043E\u043F\u0440\u043E\u0441",onClick:i[2]||(i[2]=d=>s())})])):S("",!0),t.user_choise!=""&&t.current_question+1==t.quiz.quiz_questions_quantity?(g(),T("div",je,[y(V,{size:"lg",color:"primary",label:"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0440\u0435\u0437\u0443\u043B\u044C\u0430\u0442\u0442\u044B",onClick:i[3]||(i[3]=d=>c())})])):S("",!0)]),_:1})]),_:1},8,["class"])):S("",!0),t.quiz_finish?(g(),C(j,{key:2,class:b([f(n)>1200?"my-card col-5":f(n)>900?"my-card col-8":"my-card col"])},{default:q(()=>[y(Q,null,{default:q(()=>[Fe,v("div",Oe,[y(G,{color:"green",name:"check",size:"10em"})])]),_:1})]),_:1},8,["class"])):S("",!0)])])]),_:1}))}});export{Re as default};
